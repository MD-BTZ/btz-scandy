{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">Bewerbungsdetails</h1>
        <div class="flex gap-2">
            <a href="{{ url_for('applications.index') }}" class="btn btn-ghost">
                Zurück zur Übersicht
            </a>
            <a href="{{ url_for('applications.download_application', id=application.id) }}" class="btn btn-primary">
                PDF herunterladen
            </a>
        </div>
    </div>

    <div class="bg-base-200 p-6 rounded-lg">
        <div class="grid grid-cols-2 gap-6">
            <!-- Bewerbungsinformationen -->
            <div class="bg-white p-4 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">Bewerbungsinformationen</h2>
                <dl class="space-y-2">
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Firma</dt>
                        <dd class="mt-1">{{ application.firmenname }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Position</dt>
                        <dd class="mt-1">{{ application.position }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Status</dt>
                        <dd class="mt-1">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                       {% if application.status == 'in_bearbeitung' %}bg-yellow-100 text-yellow-800
                                       {% elif application.status == 'versendet' %}bg-blue-100 text-blue-800
                                       {% elif application.status == 'antwort' %}bg-green-100 text-green-800
                                       {% elif application.status == 'abgelehnt' %}bg-red-100 text-red-800
                                       {% else %}bg-gray-100 text-gray-800{% endif %}">
                                {{ application.status }}
                            </span>
                        </dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Erstellt am</dt>
                        <dd class="mt-1">{{ application.erstellt_am }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Letzte Aktualisierung</dt>
                        <dd class="mt-1">{{ application.aktualisiert_am }}</dd>
                    </div>
                </dl>
            </div>

            <!-- Kontaktinformationen -->
            <div class="bg-white p-4 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">Kontaktinformationen</h2>
                <dl class="space-y-2">
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Ansprechpartner</dt>
                        <dd class="mt-1">{{ application.ansprechpartner or '-' }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Anrede</dt>
                        <dd class="mt-1">{{ application.anrede or '-' }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">E-Mail</dt>
                        <dd class="mt-1">{{ application.email or '-' }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Telefon</dt>
                        <dd class="mt-1">{{ application.telefon or '-' }}</dd>
                    </div>
                    <div>
                        <dt class="text-sm font-medium text-gray-500">Adresse</dt>
                        <dd class="mt-1">{{ application.adresse or '-' }}</dd>
                    </div>
                </dl>
            </div>

            <!-- Eigener Text -->
            <div class="col-span-2 bg-white p-4 rounded-lg shadow">
                <h2 class="text-xl font-semibold mb-4">Eigener Text</h2>
                <div class="prose max-w-none">
                    {{ application.eigener_text or 'Kein eigener Text vorhanden.' }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 